<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.canvas.Canvas?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.chart.ScatterChart?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.Slider?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.ProgressBar?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.control.ScrollPane?>

<BorderPane maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="900.0" prefWidth="1400.0" styleClass="root" xmlns="http://javafx.com/javafx/8.0.171" xmlns:fx="http://javafx.com/fxml/1" fx:controller="app.controller.MainViewController">
   <left>
      <VBox prefHeight="800.0" prefWidth="250.0" spacing="10.0" style="-fx-padding: 10; -fx-background-color: #313335;">
         <children>
            <Label text="Simulation Controls" styleClass="metrics-label">
               <font>
                  <Font name="System Bold" size="18.0" />
               </font>
            </Label>
            <HBox spacing="10.0">
               <children>
                  <Button fx:id="startButton" mnemonicParsing="false" onAction="#startSimulation" text="Start" />
                  <Button fx:id="stopButton" mnemonicParsing="false" onAction="#stopSimulation" text="Stop" />
               </children>
            </HBox>
            <Label text="Simulation Speed" styleClass="metrics-label" />
            <Slider fx:id="speedSlider" max="10.0" min="1.0" value="5.0" />
            <Label text="LLM Response Mode" styleClass="metrics-label" />
            <HBox spacing="10.0">
                <Button fx:id="dbButton" onAction="#setDbMode" text="DB Responses" />
                <Button fx:id="randomButton" onAction="#setRandomMode" text="Random Responses" />
            </HBox>
            <Label text="Recent Events" styleClass="metrics-label">
               <font>
                  <Font size="14.0" />
               </font>
            </Label>
            <ListView fx:id="eventsListView" prefHeight="250.0" />
            
            <Label text="ðŸ“Š Live Statistics" styleClass="metrics-label">
               <font>
                  <Font name="System Bold" size="16.0" />
               </font>
            </Label>
            <VBox fx:id="statsPanel" spacing="5.0" style="-fx-background-color: #2b2b2b; -fx-padding: 10; -fx-background-radius: 5;">
               <children>
                  <HBox spacing="10.0">
                     <children>
                        <Label text="ðŸ¢ Entities:" styleClass="metrics-label" />
                        <Label fx:id="entityCountLabel" text="0" styleClass="metrics-value" />
                        <VBox fx:id="entityActivityDots" spacing="2.0" alignment="CENTER_LEFT" />
                     </children>
                  </HBox>
                  <HBox spacing="10.0">
                     <children>
                        <Label text="âš¡ Decisions:" styleClass="metrics-label" />
                        <Label fx:id="decisionCountLabel" text="0" styleClass="metrics-value" />
                        <Label fx:id="decisionPulseLabel" text="âš¡" styleClass="pulse-effect" />
                     </children>
                  </HBox>
                  <HBox spacing="10.0">
                     <children>
                        <Label text="ðŸ“ˆ Active Events:" styleClass="metrics-label" />
                        <Label fx:id="activeEventsLabel" text="0" styleClass="metrics-value" />
                        <ProgressBar fx:id="activityProgressBar" prefWidth="60.0" progress="0.0" />
                     </children>
                  </HBox>
                  <HBox spacing="10.0">
                     <children>
                        <Label text="ðŸŽ¯ Top Scenario:" styleClass="metrics-label" />
                        <Label fx:id="topScenarioLabel" text="None" styleClass="metrics-value" />
                     </children>
                  </HBox>
               </children>
            </VBox>
            
            <Label text="ðŸ Scenario Race" styleClass="metrics-label">
               <font>
                  <Font name="System Bold" size="16.0" />
               </font>
            </Label>
            <VBox fx:id="scenarioRacePanel" spacing="3.0" style="-fx-background-color: #2b2b2b; -fx-padding: 8; -fx-background-radius: 5;">
               <children>
                  <HBox spacing="5.0">
                     <children>
                        <Label text="ðŸ¤– AI Supremacy" styleClass="metrics-label" prefWidth="80.0" />
                        <ProgressBar fx:id="aiSupremacyRaceBar" prefWidth="100.0" progress="0.0" />
                        <Label fx:id="aiSupremacyPercentLabel" text="0%" styleClass="metrics-value" />
                     </children>
                  </HBox>
                  <HBox spacing="5.0">
                     <children>
                        <Label text="ðŸ§¬ Biotech" styleClass="metrics-label" prefWidth="80.0" />
                        <ProgressBar fx:id="biotechRaceBar" prefWidth="100.0" progress="0.0" />
                        <Label fx:id="biotechPercentLabel" text="0%" styleClass="metrics-value" />
                     </children>
                  </HBox>
                  <HBox spacing="5.0">
                     <children>
                        <Label text="ðŸŒ± Green" styleClass="metrics-label" prefWidth="80.0" />
                        <ProgressBar fx:id="greenRaceBar" prefWidth="100.0" progress="0.0" />
                        <Label fx:id="greenPercentLabel" text="0%" styleClass="metrics-value" />
                     </children>
                  </HBox>
                  <HBox spacing="5.0">
                     <children>
                        <Label text="ðŸŒ Multi" styleClass="metrics-label" prefWidth="80.0" />
                        <ProgressBar fx:id="multiRaceBar" prefWidth="100.0" progress="0.0" />
                        <Label fx:id="multiPercentLabel" text="0%" styleClass="metrics-value" />
                     </children>
                  </HBox>
               </children>
            </VBox>
         </children>
      </VBox>
   </left>
   <center>
      <VBox prefHeight="200.0" prefWidth="100.0" BorderPane.alignment="CENTER">
         <children>
            <Label text="3D Vector Evolution Visualization" styleClass="metrics-label">
               <font>
                  <Font name="System Bold" size="24.0" />
               </font>
            </Label>
            <HBox spacing="10.0" alignment="CENTER">
               <children>
                  <Label text="Start Day:" styleClass="metrics-label" />
                  <TextField fx:id="startDayField" prefWidth="60.0" text="0" />
                  <Label text="End Day:" styleClass="metrics-label" />
                  <TextField fx:id="endDayField" prefWidth="60.0" text="30" />
                  <Button fx:id="updateTimeframeButton" onAction="#updateTimeframe" text="Update View" />
               </children>
            </HBox>
            <Canvas fx:id="vectorCanvas" height="600.0" width="800.0" styleClass="canvas" />
         </children>
      </VBox>
   </center>
   <right>
      <VBox prefHeight="800.0" prefWidth="350.0" spacing="10.0" style="-fx-padding: 10;">
         <children>
            <Label text="PESTEL State" styleClass="metrics-label">
               <font>
                  <Font name="System Bold" size="18.0" />
               </font>
            </Label>
            
            <Label text="ðŸ“Š Factor Trends" styleClass="metrics-label">
               <font>
                  <Font name="System Bold" size="14.0" />
               </font>
            </Label>
            <VBox fx:id="trendsPanel" spacing="3.0" style="-fx-background-color: #2b2b2b; -fx-padding: 8; -fx-background-radius: 5;">
               <children>
                  <HBox spacing="10.0">
                     <children>
                        <Label text="ðŸŒ Political:" styleClass="metrics-label" />
                        <ProgressBar fx:id="politicalTrendBar" prefWidth="80.0" progress="0.5" />
                        <Label fx:id="politicalTrendLabel" text="â†—" styleClass="trend-up" />
                     </children>
                  </HBox>
                  <HBox spacing="10.0">
                     <children>
                        <Label text="ðŸ’° Economic:" styleClass="metrics-label" />
                        <ProgressBar fx:id="economicTrendBar" prefWidth="80.0" progress="0.7" />
                        <Label fx:id="economicTrendLabel" text="â†—" styleClass="trend-up" />
                     </children>
                  </HBox>
                  <HBox spacing="10.0">
                     <children>
                        <Label text="ðŸ‘¥ Social:" styleClass="metrics-label" />
                        <ProgressBar fx:id="socialTrendBar" prefWidth="80.0" progress="0.6" />
                        <Label fx:id="socialTrendLabel" text="â†’" styleClass="trend-stable" />
                     </children>
                  </HBox>
                  <HBox spacing="10.0">
                     <children>
                        <Label text="ðŸ”¬ Tech:" styleClass="metrics-label" />
                        <ProgressBar fx:id="techTrendBar" prefWidth="80.0" progress="0.9" />
                        <Label fx:id="techTrendLabel" text="â†—" styleClass="trend-up" />
                     </children>
                  </HBox>
                  <HBox spacing="10.0">
                     <children>
                        <Label text="ðŸŒ± Env:" styleClass="metrics-label" />
                        <ProgressBar fx:id="envTrendBar" prefWidth="80.0" progress="0.8" />
                        <Label fx:id="envTrendLabel" text="â†—" styleClass="trend-up" />
                     </children>
                  </HBox>
                  <HBox spacing="10.0">
                     <children>
                        <Label text="âš–ï¸ Legal:" styleClass="metrics-label" />
                        <ProgressBar fx:id="legalTrendBar" prefWidth="80.0" progress="0.4" />
                        <Label fx:id="legalTrendLabel" text="â†˜" styleClass="trend-down" />
                     </children>
                  </HBox>
               </children>
            </VBox>
            
            <ScrollPane fitToWidth="true" hbarPolicy="NEVER" styleClass="pestel-scroll-pane">
               <content>
                  <VBox fx:id="pestelStateBox" spacing="5.0" />
               </content>
            </ScrollPane>
         </children>
      </VBox>
   </right>
</BorderPane>
